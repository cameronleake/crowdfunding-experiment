<div id="container">	
	<div class="row">
   	<div class="span9">
			<div class="page-header">
			  	<h2>Part A: Create Projects</h2>
			</div>
			<h4>Please choose the number of projects you would like to create:</h4>
			<br>     
			                         
			<%= nested_form_for @group, :url => create_projects_path, :method => :post do |f| %>  
					
				<table class="table table-bordered table-striped">
					<thead>
						<tr>
							<td><h4>Project</h4></td>
							<td><h4>Value</h4></td>
							<td><h4>Popularity</h4></td>   
							<td></td>
						 </tr>
					</thead>
					<tbody id="projects">
						<%= f.fields_for :projects, :wrapper => false do |project_form| %>           
							<%= render 'project_fields', :f => project_form %> 
						<% end %>
					</tbody>
				</table>
				                                          
				<%= f.link_to_add "Add Project", :projects, :data => { :target => "#projects" }, :class => 'btn btn-large btn-primary', :onclick => "add_project();" %>
               
            <br>
	         <br>
				<br>
				<h3>Hints:</h3>
				<br>
				<p><b> - High Value Projects: </b>These projects are requesting <%= HIGH_VALUE_PROJECT_GOAL %> credits in funding.</p>
				<p><b> - Low Value Projects: </b>These projects are requesting <%= LOW_VALUE_PROJECT_GOAL %> credits in funding.</p> 
				<p><b> - Popular Projects: </b>If successfully funded, these projects will return the same, moderate amount to each of it's donors.</p> 
				<p><b> - Niche Projects: </b>If successfully funded, these projects will return a large amount randomly to 2 of it's donors, and a lower amount to the remainder.</p> 
			   <br>  		
			                  
				<div class="form-actions">
			    	<%= f.submit "Submit", :class => 'btn btn-large btn-success pull-right' %>
			  	</div>
			<% end %>

		</div>
		<div class="span3">
			<%= render "rounds/countdown_timer_sidebar" %>
			<div align="center">
				<div class="page-header">
				  	<h2>Credits</h2>
				</div>
				<h3>You have <span id="credits"></span> credits remaining.</h3>
				<br>  
				<h3>You have <span id="counter"></span> projects.</h3>
				<br>
			</div>
  		</div>
	</div>
</div>  


<script type='text/javascript'>  
	function countDown (count) {
   	if (count > 0) 
		{
    		document.getElementById("timer").innerHTML = count;
    		setTimeout (function() { countDown(count - 1); }, 1000);
  		}
  		else if (count == 0) 
		{
 			document.getElementById("next-button").click(); 
		}
 	}
	countDown(<%= ROUND_PART_A1_COUNTDOWN_SECONDS %>);
</script> 
            

<script type="text/javascript">
	var no_of_projects = 0;
	var credits = <%= AMOUNT_CREATOR_CAN_SPEND_PER_ROUND %>
	$('#counter').text(no_of_projects) 
	$('#credits').text(credits) 

	function add_project()
	{
		no_of_projects++; 
		var remaining_credits = (credits - (<%= COST_TO_CREATE_PROJECT %> * no_of_projects))   
		$('#counter').text(no_of_projects)  
		$('#credits').text(remaining_credits);
		return false;   
	} 
	
	function remove_project()
	{
		no_of_projects--;
		var remaining_credits = (credits - (<%= COST_TO_CREATE_PROJECT %> * no_of_projects))   
		$('#counter').text(no_of_projects)     
		$('#credits').text(remaining_credits); 
		return false;   
	}
</script>